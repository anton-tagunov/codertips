Записки говнокодера
===================


Протоколы
---------

- Если вы решили сделать свой RPC протокол, то есть аля команда и её аргументы, и этот протокол построен на 
  базе словарей/json/msgpack и т.д., 
  то передавайте параметры в отдельном словаре, то есть

.. code-block:: json

      {"command": "hello", "params": {"who": "kitty"}}

а не 

.. code-block:: json

      {"command": "hello", "who": "kitty"}

Кажется, что во втором случае экономится один словарик и он должен быть эффективным, но как правило у вас возникнут ситуации 
когда вы захотите выделить только параметры в виде словаря, например для логирования или для их валидации.

База данных
-----------

- primary_key в табличках надо называть как <table_name>_id, а не просто id. Например organization_id, user_id, shit_it. 
  Кажется что это лишняя трата буковок и усилий программиста по их копипасте, но как только у вас пойдут сложные 
  запросы с join'ами то это, возможно, поможет избежать сравнения разных айдишников, аля organization_id == shit_id. 
  Также имена foreign key полей будут такими же.

  То есть вот так "есть хорошо"

.. code-block:: sql

   SELECT ***
   FROM
   WHERE organization.organization_id == user.organization_id

  а вот так может получиться путаница в итоге, особенно когда условий будет много

.. code-block:: sql

   WHERE organization.id == user.organization_id


REST
----
